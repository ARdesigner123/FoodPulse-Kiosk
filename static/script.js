const translations = {
    en: {
        menuTitle: "Food Court Menu",
        chinese: "Chinese",
        malay: "Malay",
        korean: "Korean",
        japanese: "Japanese",
        desserts: "Desserts",
        drinks: "Drinks",
        fruits: "Fruits",
        scheduleBtn: "Academic Schedule",
        trackerBtn: "Food Tracker",
        langLabel: "Language",
        crowdLevelLegend: "Crowd Level Legend",
        low: "Low",
        medium: "Medium",
        high: "High",
        weekend: "Weekend",
        days: ["Sun", "Mon", "Tue", "Wed", "Thu", "Fri", "Sat"],
        pickFoodcourt: "Pick Your Foodcourt",
        salesAvailable: "Sales Available",
        timePeriod: "Time Period",
        time1: "8am-10am",
        time2: "10am-12pm",
        time3: "12pm-3pm",
        time4: "3pm-5pm",
        time5: "5pm-7pm"
    },
    zh: {
        menuTitle: "ÁæéÈ£üÂπøÂú∫ËèúÂçï",
        chinese: "‰∏≠È§ê",
        malay: "È©¨Êù•È§ê",
        korean: "Èü©È§ê",
        japanese: "Êó•È§ê",
        desserts: "ÁîúÁÇπ",
        drinks: "È•ÆÊñô",
        fruits: "Ê∞¥Êûú",
        scheduleBtn: "Â≠¶ÊúØÊó•Á®ã",
        trackerBtn: "È£üÁâ©ËøΩË∏™Âô®",
        langLabel: "ËØ≠Ë®Ä",
        crowdLevelLegend: "‰∫∫Áæ§Ê∞¥Âπ≥Âõæ‰æã",
        low: "‰Ωé",
        medium: "‰∏≠",
        high: "È´ò",
        weekend: "Âë®Êú´",
        days: ["Êó•", "‰∏Ä", "‰∫å", "‰∏â", "Âõõ", "‰∫î", "ÂÖ≠"],
        pickFoodcourt: "ÈÄâÊã©ÊÇ®ÁöÑÈ£üÈòÅ",
        salesAvailable: "ÂèØÁî®ÈîÄÂîÆ",
        timePeriod: "Êó∂Èó¥ÊÆµ",
        time1: "‰∏äÂçà8ÁÇπ-10ÁÇπ",
        time2: "‰∏äÂçà10ÁÇπ-12ÁÇπ",
        time3: "‰∏≠Âçà12ÁÇπ-3ÁÇπ",
        time4: "‰∏ãÂçà3ÁÇπ-5ÁÇπ",
        time5: "‰∏ãÂçà5ÁÇπ-7ÁÇπ"
    },
    ta: {
        menuTitle: "‡Æâ‡Æ£‡Æµ‡ØÅ ‡Æ®‡Æø‡Æ≤‡Øà‡ÆØ ‡ÆÆ‡ØÜ‡Æ©‡ØÅ",
        chinese: "‡Æö‡ØÄ‡Æ© ‡Æâ‡Æ£‡Æµ‡ØÅ",
        malay: "‡ÆÆ‡Æ≤‡Ææ‡ÆØ‡Øç ‡Æâ‡Æ£‡Æµ‡ØÅ",
        korean: "‡Æï‡Øä‡Æ∞‡Æø‡ÆØ‡Æ©‡Øç ‡Æâ‡Æ£‡Æµ‡ØÅ",
        japanese: "‡Æú‡Æ™‡Øç‡Æ™‡Ææ‡Æ©‡Æø‡ÆØ ‡Æâ‡Æ£‡Æµ‡ØÅ",
        desserts: "‡Æá‡Æ©‡Æø‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡Øç",
        drinks: "‡Æ™‡Ææ‡Æ©‡Æô‡Øç‡Æï‡Æ≥‡Øç",
        fruits: "‡Æ™‡Æ¥‡Æô‡Øç‡Æï‡Æ≥‡Øç",
        scheduleBtn: "‡Æï‡Æ≤‡Øç‡Æµ‡Æø ‡ÆÖ‡Æü‡Øç‡Æü‡Æµ‡Æ£‡Øà",
        trackerBtn: "‡Æâ‡Æ£‡Æµ‡ØÅ ‡Æï‡Æ£‡Øç‡Æï‡Ææ‡Æ£‡Æø‡Æ™‡Øç‡Æ™‡Ææ‡Æ≥‡Æ∞‡Øç",
        langLabel: "‡ÆÆ‡Øä‡Æ¥‡Æø",
        crowdLevelLegend: "‡Æï‡ØÇ‡Æü‡Øç‡Æü ‡Æ®‡Æø‡Æ≤‡Øà ‡Æö‡Æø‡Æ©‡Øç‡Æ©‡ÆÆ‡Øç",
        low: "‡Æï‡ØÅ‡Æ±‡Øà‡Æµ‡ØÅ",
        medium: "‡Æ®‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡Æ∞",
        high: "‡ÆÖ‡Æ§‡Æø‡Æï",
        weekend: "‡Æµ‡Ææ‡Æ∞ ‡Æá‡Æ±‡ØÅ‡Æ§‡Æø",
        days: ["‡Æû‡Ææ", "‡Æ§‡Æø", "‡Æö‡ØÜ", "‡Æ™‡ØÅ", "‡Æµ‡Æø", "‡Æµ‡ØÜ", "‡Æö"],
        pickFoodcourt: "‡Æâ‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æâ‡Æ£‡Æµ‡Æï‡Æ§‡Øç‡Æ§‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç",
        salesAvailable: "‡Æï‡Æø‡Æü‡Øà‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æµ‡Æø‡Æ±‡Øç‡Æ™‡Æ©‡Øà",
        timePeriod: "‡Æ®‡Øá‡Æ∞ ‡Æï‡Ææ‡Æ≤‡ÆÆ‡Øç",
        time1: "‡Æï‡Ææ‡Æ≤‡Øà 8 ‡ÆÆ‡Æ£‡Æø-10 ‡ÆÆ‡Æ£‡Æø",
        time2: "‡Æï‡Ææ‡Æ≤‡Øà 10 ‡ÆÆ‡Æ£‡Æø-12 ‡ÆÆ‡Æ£‡Æø",
        time3: "‡ÆÆ‡Æ§‡Æø‡ÆØ‡ÆÆ‡Øç 12 ‡ÆÆ‡Æ£‡Æø-3 ‡ÆÆ‡Æ£‡Æø",
        time4: "‡ÆÆ‡Ææ‡Æ≤‡Øà 3 ‡ÆÆ‡Æ£‡Æø-5 ‡ÆÆ‡Æ£‡Æø",
        time5: "‡ÆÆ‡Ææ‡Æ≤‡Øà 5 ‡ÆÆ‡Æ£‡Æø-7 ‡ÆÆ‡Æ£‡Æø"
    },
    ms: {
        menuTitle: "Menu Dewan Makan",
        chinese: "Cina",
        malay: "Melayu",
        korean: "Korea",
        japanese: "Jepun",
        desserts: "Pencuci Mulut",
        drinks: "Minuman",
        fruits: "Buah-buahan",
        scheduleBtn: "Jadual Akademik",
        trackerBtn: "Penjejak Makanan",
        langLabel: "Bahasa",
        crowdLevelLegend: "Tahap Kesesakan Legenda",
        low: "Rendah",
        medium: "Sederhana",
        high: "Tinggi",
        weekend: "Hujung Minggu",
        days: ["Ahd", "Isn", "Sel", "Rab", "Kha", "Jum", "Sab"],
        pickFoodcourt: "Pilih Dewan Makan Anda",
        salesAvailable: "Jualan Tersedia",
        timePeriod: "Tempoh Masa",
        time1: "8 pagi-10 pagi",
        time2: "10 pagi-12 tengah hari",
        time3: "12 tengah hari-3 petang",
        time4: "3 petang-5 petang",
        time5: "5 petang-7 malam"
    }
};

const infoTranslations = {
    en: {
        selectDate: "Select a date to see details.",
        academicDay: "Academic Day",
        vacation: "Vacation Period",
        midTests: "Mid-Semester Tests",
        midVacation: "Mid-Semester Vacation",
        term2: "Term 2 Classes Begin",
    },
    zh: {
        selectDate: "ÈÄâÊã©Êó•Êúü‰ª•Êü•ÁúãËØ¶ÁªÜ‰ø°ÊÅØ„ÄÇ",
        academicDay: "‰∏äËØæÊó•",
        vacation: "ÂÅáÊúü",
        midTests: "Êúü‰∏≠ËÄÉËØï",
        midVacation: "Êúü‰∏≠ÂÅáÊúü",
        term2: "Á¨¨‰∫åÂ≠¶ÊúüÂºÄÂßã",
    },
    ta: {
        selectDate: "‡Æµ‡Æø‡Æµ‡Æ∞‡Æô‡Øç‡Æï‡Æ≥‡Øà ‡Æ™‡Ææ‡Æ∞‡Øç‡Æï‡Øç‡Æï ‡Æ§‡Øá‡Æ§‡Æø‡ÆØ‡Øà‡Æ§‡Øç ‡Æ§‡Øá‡Æ∞‡Øç‡Æ®‡Øç‡Æ§‡ØÜ‡Æü‡ØÅ‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç.",
        academicDay: "‡Æï‡Æ≤‡Øç‡Æµ‡Æø ‡Æ®‡Ææ‡Æ≥‡Øç",
        vacation: "‡Æµ‡Æø‡Æü‡ØÅ‡ÆÆ‡ØÅ‡Æ±‡Øà",
        midTests: "‡Æ®‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡Æ∞ ‡Æ™‡Æ∞‡ØÄ‡Æü‡Øç‡Æö‡Øà‡Æï‡Æ≥‡Øç",
        midVacation: "‡Æ®‡Æü‡ØÅ‡Æ§‡Øç‡Æ§‡Æ∞ ‡Æµ‡Æø‡Æü‡ØÅ‡ÆÆ‡ØÅ‡Æ±‡Øà",
        term2: "2‡ÆÜ‡ÆÆ‡Øç ‡Æ™‡Æ∞‡ØÅ‡Æµ ‡Æµ‡Æï‡ØÅ‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡Øç ‡Æ§‡ØÅ‡Æµ‡Æô‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç",
    },
    ms: {
        selectDate: "Pilih tarikh untuk melihat butiran.",
        academicDay: "Hari Akademik",
        vacation: "Tempoh Cuti",
        midTests: "Ujian Pertengahan Semester",
        midVacation: "Cuti Pertengahan Semester",
        term2: "Kelas Semester 2 Bermula",
    }
};

document.addEventListener("DOMContentLoaded", () => {

    /* ==================
       INDEX PAGE LOGIC
    =====================*/

    const scheduleBtn = document.getElementById("scheduleBtn");
    if (scheduleBtn) {
        scheduleBtn.addEventListener("click", () => {
            window.location.href = "schedule.html";
        });
    }

    const trackerBtn = document.getElementById("trackerBtn");
    if (trackerBtn) {
        trackerBtn.addEventListener("click", () => {
            window.location.href = "foodcourt.html";
        });
    }

    const chineseCard = document.getElementById("chinese");
    if (chineseCard) {
        chineseCard.addEventListener("click", () => {
            window.location.href = "chinese.html";
        });
    }

    /* ============================
       CHINESE PAGE LOGIC
    ============================ */
    if (document.getElementById("chineseMenuTitle")) {

        const stallButtons = document.querySelectorAll(".stall-btn");
        const foodCards = document.getElementById("food-cards");

        const stallData = {
        /* ===== FC1 ===== */
        "fc1-ban-mian-fish-soup": {
            name: "Ban Mian / Fish Soup Stall (FC1)",
            items: [
                {
                    name: "Ban Mian",
                    price: "$3.00",
                    rating: "4.2",
                    comment: "Very chewy noodles and comforting soup. Uncle is friendly!",
                    image: "static/images/ban_mian.jpg"
                },
                {
                    name: "Sliced Fish Soup with Rice",
                    price: "$5.00",
                    rating: "4.2",
                    comment: "Healthy, comforting choice. Perfect on rainy days.",
                    image: "static/images/fish_soup.jpg"
                }
            ]
        },

        "fc1-economy-rice": {
            name: "Mixed Rice / Cai Png Stall (FC1)",
            items: [
                {
                    name: "2 Veg + 1 Meat Cai Png",
                    price: "$3.00 - $3.50",
                    rating: "3.9",
                    comment: "Generous portions. Sweet and sour pork is highly recommended.",
                    image: "static/images/mixed_rice.jpg"
                }
            ]
        },

        /* ===== FC2 ===== */
        "fc2-economy-rice": {
            name: "Economy Rice / Cai Png Stall (FC2)",
            items: [
                {
                    name: "Mixed Rice with Drumstick",
                    price: "$2.50 - $4.00",
                    rating: "4.1",
                    comment: "One of the best drumsticks on campus. Long queues but worth it.",
                    image: "static/images/mixed_rice.jpg"
                }
            ]
        },

        /* ===== FC3 ===== */
        "fc3-chinese-cuisine": {
            name: "Chinese Cuisine Stall (FC3)",
            items: [
                {
                    name: "Steamed Dumplings (Jiaozi)",
                    price: "~$5.60 (8 pcs)",
                    rating: "4.1",
                    comment: "Authentic potstickers with great filling.",
                    image: "static/images/steamed_dumplings.jpg"
                },
                {
                    name: "Pan-fried Dumplings (Guotie)",
                    price: "~$5.60 (8 pcs)",
                    rating: "4.1",
                    comment: "Crispy base and juicy inside. A student favourite.",
                    image: "static/images/pan_fried_dumplings.jpg"
                }
            ]
        },

        "fc3-sp-mini-wok": {
            name: "SP Mini Wok (FC3)",
            items: [
                {
                    name: "Salted Egg Chicken Rice",
                    price: "$4.30 - $4.50",
                    rating: "4.5",
                    comment: "Legendary status. 10/10 flavour but always long queues.",
                    image: "static/images/salted_egg_chicken_rice.jpg"
                },
                {
                    name: "Mala Chicken Rice",
                    price: "$4.30",
                    rating: "4.5",
                    comment: "Spicy and addictive. Not for the faint-hearted.",
                    image: "static/images/mala_chicken_rice.jpg"
                }
            ]
        },

        /* ===== FC4 ===== */
        "fc4-taiwanese-chinese": {
            name: "Taiwanese / Chinese-style Stall (FC4)",
            items: [
                {
                    name: "Chicken Cutlet Rice",
                    price: "$4.20 - $4.80",
                    rating: "4.1",
                    comment: "Chicken cutlet is the bomb. Crispy and satisfying.",
                    image: "static/images/chicken_cutlet_rice.jpg"
                },
                {
                    name: "Braised Pork Rice (Lu Rou Fan)",
                    price: "$4.20 - $4.80",
                    rating: "4.1",
                    comment: "Flavour is good but portion can be inconsistent.",
                    image: "static/images/braised_pork_rice.jpg"
                }
            ]
        },

        "fc4-happiness-sunbo": {
            name: "Happiness Sunbo Chicken Rice (FC4)",
            items: [
                {
                    name: "Standard Chicken Rice",
                    price: "~$3.00",
                    rating: "4.3",
                    comment: "Cheapest chicken rice in SP. Chili sauce is super punchy.",
                    image: "static/images/chicken_rice.jpg"
                }
            ]
        },

        /* ===== FC6 ===== */
        "fc6-noodle-chinese": {
            name: "Chinese-style Noodle Options (FC6)",
            items: [
                {
                    name: "Fish Ball Noodles",
                    price: "$2.00 - $3.00",
                    rating: "3.7",
                    comment: "Affordable and filling. Great for tight budgets.",
                    image: "static/images/fish_ball_noodles.jpg"
                },
                {
                    name: "Wanton Noodle Soup",
                    price: "$3.00",
                    rating: "3.7",
                    comment: "Basic but filling. No frills student meal.",
                    image: "static/images/wanton_noodle_soup.jpg"
                }
            ]
        }
    };

    /* ===== Stall Button Click ===== */
stallButtons.forEach(btn => {
    btn.addEventListener("click", () => {

        const stallKey = btn.dataset.stall;
        const stall = stallData[stallKey];

        // üõë SAFETY CHECK
        if (!stall || !stall.items) {
            console.error("Stall data not found:", stallKey);
            foodCards.innerHTML = `
                <p style="color:red; text-align:center;">
                    Menu data unavailable. Please try another stall.
                </p>
            `;
            foodCards.style.display = "block";
            return;
        }

        const gridClass = stall.items.length === 1
            ? "cards-grid single"
            : "cards-grid";

        foodCards.innerHTML = `<h3>${stall.name}</h3><div class="${gridClass}">`;

        stall.items.forEach(item => {
            foodCards.innerHTML += `
                <div class="food-card">
                    <img src="${item.image}" 
                         alt="${item.name}"
                         onerror="this.src='static/images/placeholder.jpg'">
                    <div class="food-name">${item.name}</div>
                    <div class="food-details">
                        <p><strong>Price:</strong> ${item.price}</p>
                        <p><strong>Rating:</strong> ${item.rating} ‚≠ê</p>
                        <p><em>"${item.comment}"</em></p>
                    </div>
                </div>
            `;
        });

        foodCards.innerHTML += `</div>`;
        foodCards.style.display = "block";

        foodCards.classList.remove("fade-out");
        foodCards.classList.add("fade-in");

        foodCards.scrollIntoView({ behavior: "smooth" });
    });
});

        /* ============================
           FOOD COURT MAP NAVIGATION
        ============================ */
        const foodCourtLocations = {
            "Food Court 1": "Singapore Polytechnic Food Court 1",
            "Food Court 2": "Singapore Polytechnic Food Court 2",
            "Food Court 3": "Food Court 3 (Foodgle)",
            "Food Court 4": "Koufu Food Court 4 Singapore Poly",
            "Food Court 6": "Food Canopy - Singapore Poly"
        };

        const fcButtons = document.querySelectorAll(".fc-btn");
        const mapFrame = document.getElementById("spMap");
        const stallButtonsAll = document.querySelectorAll(".stall-btn");

        fcButtons.forEach(btn => {
            btn.addEventListener("click", () => {

                /* Active button highlight */
                fcButtons.forEach(b => b.classList.remove("active"));
                btn.classList.add("active");

                /* Update Map */
                const location = foodCourtLocations[btn.dataset.fc];
                mapFrame.src = `https://www.google.com/maps?q=${encodeURIComponent(location)}&output=embed`;

                /* Fade out food cards */
                if (foodCards.style.display === "block") {
                    foodCards.classList.remove("fade-in");
                    foodCards.classList.add("fade-out");

                    setTimeout(() => {
                        foodCards.style.display = "none";
                    }, 400);
                }

                /* Hide all stall buttons */
                stallButtonsAll.forEach(stallBtn => {
                    stallBtn.style.display = "none";
                });

                /* Show selected stalls */
                stallButtonsAll.forEach(stallBtn => {
                    if (stallBtn.dataset.fc === btn.dataset.fc) {
                        stallBtn.style.display = "inline-block";
                    }
                });
            });
        });
    }

    /* ==================
       FOODCOURT PAGE LOGIC
    =====================*/
    const foodcourtGrid = document.querySelector(".foodcourt-grid");
    if (foodcourtGrid) {
        const foodcourtCards = document.querySelectorAll(".foodcourt-card");
        const fcInfoPanel = document.getElementById("fc-info-panel");
        const fcTitle = document.getElementById("fc-title");
        const stallList = document.querySelector(".stall-list");
        const timeButtons = document.querySelectorAll(".time-buttons button");

        // Data for Food Courts with translated descriptions
        const fcData = {
            "Food Court 1": {
                stalls: ["Chicken Rice", "Japanese Curry / Rice Bowls", "Western Cuisine", "Ban Mian / Fish Soup", "Mala Hotpot", "Thai Cuisine", "Yong Tau Foo", "Desserts", "Drinks & Toast Stall"],
                descriptions: {
                    en: ["A student staple", "Very popular", "Pastas, chicken chops", "", "", "Basil chicken, noodles", "", "Ice Kacang etc.", "Main anchor"],
                    zh: ["Â≠¶Áîü‰∏ªÈ£ü", "ÈùûÂ∏∏ÂèóÊ¨¢Ëøé", "ÊÑèÂ§ßÂà©Èù¢ÔºåÈ∏°Êâí", "", "", "ÁΩóÂãíÈ∏°ÔºåÈù¢Êù°", "", "ÂÜ∞Ê≤ôÁ≠âÁ≠â", "‰∏ªË¶ÅÊîØÊü±"],
                    ta: ["‡ÆÆ‡Ææ‡Æ£‡Æµ‡Æ∞‡Øç ‡ÆÆ‡ØÅ‡Æ§‡Æ©‡Øç‡ÆÆ‡Øà", "‡ÆÆ‡Æø‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Æø‡Æ∞‡Æ™‡Æ≤‡ÆÆ‡Ææ‡Æ©", "‡Æ™‡Ææ‡Æ∏‡Øç‡Æ§‡Ææ, ‡Æï‡Øã‡Æ¥‡Æø ‡Æö‡Ææ‡Æ™‡Øç", "", "", "‡Æ™‡Øá‡Æö‡Æø‡Æ≤‡Øç ‡Æï‡Øã‡Æ¥‡Æø, ‡Æ®‡ØÇ‡Æü‡ØÅ‡Æ≤‡Øç‡Æ∏‡Øç", "", "‡Æê‡Æ∏‡Øç ‡Æï‡Æï‡Ææ‡Æô‡Øç ‡ÆÆ‡ØÅ‡Æ§‡Æ≤‡Æø‡ÆØ‡Æ©", "‡ÆÆ‡ØÅ‡Æ§‡Æ©‡Øç‡ÆÆ‡Øà ‡ÆÜ‡Æô‡Øç‡Æï‡Æ∞‡Øç"],
                    ms: ["Stap mahasiswa", "Sangat popular", "Pasta, ayam goreng", "", "", "Ayam basil, mi", "", "Ais kacang dll.", "Penambat utama"]
                },
                times: {
                    "8am-10am": [60, 50, 40, 30, 20, 25, 20, 50, 70],
                    "10am-12pm": [95, 90, 85, 80, 70, 75, 60, 90, 95],
                    "12pm-3pm": [100, 95, 90, 85, 80, 75, 70, 95, 100],
                    "3pm-5pm": [40, 30, 35, 25, 20, 30, 25, 40, 45],
                    "5pm-7pm": [20, 15, 25, 10, 5, 15, 10, 20, 25]
                }
            },
            "Food Court 2": {
                stalls: ["Vegetarian Stall", "Indonesian Express", "Japanese Stall", "Korean Stall", "Economic Rice (Cai Fan)", "Yong Tau Foo", "Fish Soup / Ban Mian", "Taiwanese Stall", "Malay / Indian Cuisine", "Drinks & Toast Stall"],
                descriptions: {
                    en: ["Highly rated, known for big portions", "Famous for Ayam Penyet/Ayam Panggang", "Known for affordable Chicken Don/Karaage Don", "Recommended for Hot Stone Bibimbap", "The budget staple", "Each ingredient priced around $0.40 - $0.50", "", "", "Known for Maggie Goreng", "Main anchor"],
                    zh: ["ËØÑ‰ª∑ÂæàÈ´òÔºå‰ª•Â§ß‰ªΩÈáèÈóªÂêç", "‰ª•ÈòøÂ§Æ‰Ω©Â¶ÆÁâπ/ÈòøÂ§ÆÂ∫ûÂÜàÈóªÂêç", "‰ª•ÂÆûÊÉ†ÁöÑÈ∏°ÊâíÈ•≠/ÂîêÊâ¨È∏°ÈóªÂêç", "Êé®ËçêÁÉ≠Áü≥ÊãåÈ•≠", "È¢ÑÁÆó‰∏ªÈ£ü", "ÊØèÁßçÈÖçÊñô‰ª∑Ê†ºÁ∫¶0.40-0.50ÁæéÂÖÉ", "", "", "‰ª•Maggie GorengÈóªÂêç", "‰∏ªË¶ÅÊîØÊü±"],
                    ta: ["‡Æâ‡ÆØ‡Æ∞‡Øç ‡ÆÆ‡Æ§‡Æø‡Æ™‡Øç‡Æ™‡ØÄ‡Æü‡ØÅ, ‡Æ™‡ØÜ‡Æ∞‡Æø‡ÆØ ‡Æ™‡Æô‡Øç‡Æï‡ØÅ‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡ÆÖ‡Æ±‡Æø‡ÆØ‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü", "‡ÆÖ‡ÆØ‡ÆÆ‡Øç ‡Æ™‡ØÜ‡Æ©‡Øç‡ÆØ‡Æü‡Øç/‡ÆÖ‡ÆØ‡ÆÆ‡Øç ‡Æ™‡Ææ‡Æô‡Øç‡Æï‡Ææ‡Æô‡Øç‡Æï‡Æø‡Æ±‡Øç‡Æï‡ØÅ ‡Æ™‡Æø‡Æ∞‡Æ™‡Æ≤‡ÆÆ‡Ææ‡Æ©", "‡Æµ‡Æø‡Æ≤‡Øà‡ÆØ‡Æø‡Æ≤‡Øç‡Æ≤‡Ææ‡Æ§ ‡Æö‡Æø‡Æï‡Øç‡Æï‡Æ©‡Øç ‡Æü‡Ææ‡Æ©‡Øç/‡Æï‡Æ∞‡Ææ‡Æú‡Øç ‡Æü‡Ææ‡Æ©‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡ÆÖ‡Æ±‡Æø‡ÆØ‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü", "‡Æπ‡Ææ‡Æü‡Øç ‡Æ∏‡Øç‡Æü‡Øã‡Æ©‡Øç ‡Æ™‡Æø‡Æ™‡Æø‡ÆÆ‡Øç‡Æ™‡Ææ‡Æ™‡Øç‡Æ™‡Æø‡Æ±‡Øç‡Æï‡ØÅ ‡Æ™‡Æ∞‡Æø‡Æ®‡Øç‡Æ§‡ØÅ‡Æ∞‡Øà‡Æï‡Øç‡Æï‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡Æï‡Æø‡Æ±‡Æ§‡ØÅ", "‡Æ™‡Æü‡Øç‡Æú‡ØÜ‡Æü‡Øç ‡Æ∏‡Øç‡Æü‡Øá‡Æ™‡Æø‡Æ≥‡Øç", "‡Æí‡Æµ‡Øç‡Æµ‡Øä‡Æ∞‡ØÅ ‡Æ™‡Øä‡Æ∞‡ØÅ‡Æ≥‡ØÅ‡ÆÆ‡Øç ‡Æö‡ØÅ‡ÆÆ‡Ææ‡Æ∞‡Øç $0.40 - $0.50 ‡Æµ‡Æø‡Æ≤‡Øà", "", "", "‡ÆÆ‡Øá‡Æï‡Æø ‡Æï‡Øã‡Æ∞‡ØÜ‡Æô‡Øç‡Æï‡Æø‡Æ±‡Øç‡Æï‡ØÅ ‡ÆÖ‡Æ±‡Æø‡ÆØ‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü", "‡ÆÆ‡ØÅ‡Æ§‡Æ©‡Øç‡ÆÆ‡Øà ‡ÆÜ‡Æô‡Øç‡Æï‡Æ∞‡Øç"],
                    ms: ["Penilaian tinggi, dikenali untuk bahagian besar", "Terkenal dengan Ayam Penyet/Ayam Panggang", "Dikenali untuk Chicken Don/Karaage Don yang mampu milik", "Disyorkan untuk Hot Stone Bibimbap", "Stap bajet", "Setiap bahan dihargakan sekitar $0.40 - $0.50", "", "", "Dikenali untuk Maggie Goreng", "Penambat utama"]
                },
                times: {
                    "8am-10am": [50, 0, 0, 0, 40, 0, 30, 0, 20, 40],
                    "10am-12pm": [100, 95, 90, 90, 95, 60, 80, 50, 80, 95],
                    "12pm-3pm": [100, 80, 70, 70, 60, 50, 40, 30, 50, 80],
                    "3pm-5pm": [20, 0, 0, 0, 10, 5, 0, 0, 0, 15],
                    "5pm-7pm": [10, 0, 0, 0, 0, 0, 0, 0, 0, 5]
                }
            },
            "Food Court 3": {
                stalls: ["Indonesian Express","SP Mini Wok","Waffle Street","Mr Pasta","Crumbz Up","Mala Xiang Guo","Chinese Cuisine","The Crowded Bowl","Nasi Lemak / Chicken Rice","Drinks & Toast Stall"],
                descriptions: {
                    en: ["Famous for Ayam Penyet and spicy chili","Salted Egg Chicken Rice, Mala Chicken Rice","Large, crispy waffles with various toppings/ice cream","Customizable cream and tomato-based pastas","Acai bowls and healthy granola treats","A student favorite with manageable queues","Known for Jiao Zi / pan-fried dumplings","Vegetarian salad bowls","Halal-certified options available","Known for large Ice Milo and breakfast sets"],
                    zh: ["‰ª•ÈòøÂ§Æ‰Ω©Â¶ÆÁâπÂíåËæ£Ê§íÈóªÂêç","Âí∏ËõãÈ∏°È•≠ÔºåÈ∫ªËæ£È∏°È•≠","Â§ßËÄåËÑÜÁöÑÂçéÂ§´È•ºÈÖçÂêÑÁßçÈÖçÊñô/ÂÜ∞Ê∑áÊ∑ã","ÂèØÂÆöÂà∂ÁöÑÂ•∂Ê≤πÂíåÁï™ËåÑÈÖ±ÊÑèÂ§ßÂà©Èù¢","ÈòøËê®‰ºäÁ¢óÂíåÂÅ•Â∫∑Ê†ºÂÖ∞ËØ∫ÊãâÈõ∂È£ü","Â≠¶ÁîüÊúÄÁà±ÔºåÈòü‰ºçÂèØÁÆ°ÁêÜ","‰ª•È•∫Â≠ê/ÁÖéÈ•∫ÈóªÂêç","Á¥†È£üÊ≤ôÊãâÁ¢ó","Êèê‰æõÊ∏ÖÁúüËÆ§ËØÅÈÄâÈ°π","‰ª•Â§ßÂÜ∞Á±≥Ê¥õÂíåÊó©È§êÂ•óÈ§êÈóªÂêç"],
                    ta: ["‡ÆÖ‡ÆØ‡ÆÆ‡Øç ‡Æ™‡ØÜ‡Æ©‡Øç‡ÆØ‡Æü‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡Æö‡Ææ‡Æ≤‡Ææ ‡Æö‡Æø‡Æ≤‡Æø‡Æï‡Øç‡Æï‡ØÅ ‡Æ™‡Æø‡Æ∞‡Æ™‡Æ≤‡ÆÆ‡Ææ‡Æ©","‡Æâ‡Æ™‡Øç‡Æ™‡ØÅ ‡ÆÆ‡ØÅ‡Æü‡Øç‡Æü‡Øà ‡Æï‡Øã‡Æ¥‡Æø ‡Æö‡Ææ‡Æ§‡ÆÆ‡Øç, ‡ÆÆ‡Ææ‡Æ≤‡Ææ ‡Æï‡Øã‡Æ¥‡Æø ‡Æö‡Ææ‡Æ§‡ÆÆ‡Øç","‡Æ™‡Æ≤‡Øç‡Æµ‡Øá‡Æ±‡ØÅ ‡Æü‡Ææ‡Æ™‡Øç‡Æ™‡Æø‡Æô‡Øç‡Æ∏‡Øç/‡Æê‡Æ∏‡Øç ‡Æï‡Øç‡Æ∞‡ØÄ‡ÆÆ‡ØÅ‡Æü‡Æ©‡Øç ‡Æ™‡ØÜ‡Æ∞‡Æø‡ÆØ, ‡Æï‡Øç‡Æ∞‡Æø‡Æ∏‡Øç‡Æ™‡Æø ‡Æµ‡Ææ‡ÆÉ‡Æ™‡Æø‡Æ≥‡Øç‡Æ∏‡Øç","‡Æ§‡Æ©‡Æø‡Æ™‡Øç‡Æ™‡ÆØ‡Æ©‡Øç ‡Æï‡Øç‡Æ∞‡ØÄ‡ÆÆ‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æü‡Øã‡ÆÆ‡Øá‡Æü‡Øç‡Æü‡Øã ‡ÆÖ‡Æü‡Æø‡Æ™‡Øç‡Æ™‡Æü‡Øà‡ÆØ‡Æø‡Æ≤‡Ææ‡Æ© ‡Æ™‡Ææ‡Æ∏‡Øç‡Æ§‡Ææ‡Æï‡Øç‡Æï‡Æ≥‡Øç","‡ÆÖ‡Æö‡Ææ‡ÆØ‡Øç ‡Æ™‡Æµ‡ØÅ‡Æ≤‡Øç‡Æ∏‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡ÆÜ‡Æ∞‡Øã‡Æï‡Øç‡Æï‡Æø‡ÆØ‡ÆÆ‡Ææ‡Æ© ‡Æï‡Æø‡Æ∞‡Ææ‡Æ©‡Øã‡Æ≤‡Ææ ‡Æü‡Øç‡Æ∞‡ØÄ‡Æü‡Øç‡Æ∏‡Øç","‡ÆÆ‡Ææ‡Æ£‡Æµ‡Æ∞‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æ™‡Æø‡Æü‡Æø‡Æ§‡Øç‡Æ§, ‡Æ®‡Æø‡Æ∞‡Øç‡Æµ‡Æï‡Æø‡Æï‡Øç‡Æï‡Æï‡Øç‡Æï‡ØÇ‡Æü‡Æø‡ÆØ ‡Æµ‡Æ∞‡Æø‡Æö‡Øà‡Æï‡Æ≥‡Øç","‡Æú‡Æø‡ÆØ‡Øã ‡Æö‡Æø / ‡Æ™‡Ææ‡Æ©‡Øç-‡ÆÉ‡Æ™‡Øç‡Æ∞‡Øà‡Æü‡Øç ‡Æü‡ÆÆ‡Øç‡Æ™‡Øç‡Æ≤‡Æø‡Æô‡Øç‡Æ∏‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡ÆÖ‡Æ±‡Æø‡ÆØ‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü","‡Æö‡Øà‡Æµ ‡Æö‡Ææ‡Æ≤‡Æü‡Øç ‡Æ™‡Æµ‡ØÅ‡Æ≤‡Øç‡Æ∏‡Øç","‡Æπ‡Æ≤‡Ææ‡Æ≤‡Øç ‡Æö‡Ææ‡Æ©‡Øç‡Æ±‡Æø‡Æ§‡Æ¥‡Øç ‡Æµ‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡Æï‡Æø‡Æü‡Øà‡Æï‡Øç‡Æï‡Æø‡Æ©‡Øç‡Æ±‡Æ©","‡Æ™‡ØÜ‡Æ∞‡Æø‡ÆØ ‡Æê‡Æ∏‡Øç ‡ÆÆ‡Æø‡Æ≤‡Øã ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Æø‡Æ∞‡Øá‡Æï‡Øç‡ÆÉ‡Æ™‡Ææ‡Æ∏‡Øç‡Æü‡Øç ‡Æö‡ØÜ‡Æü‡Øç‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡ÆÖ‡Æ±‡Æø‡ÆØ‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü"],
                    ms: ["Terkenal dengan Ayam Penyet dan cili pedas","Nasi Ayam Telur Masin, Nasi Ayam Mala","Wafel besar, rangup dengan pelbagai topping/ais krim","Pasta krim dan tomato yang boleh disesuaikan","Mangkuk Acai dan rawatan granola sihat","Kegemaran pelajar dengan barisan boleh diurus","Dikenali untuk Jiao Zi / dumpling goreng","Mangkuk salad vegetarian","Pilihan halal tersedia","Dikenali untuk Ice Milo besar dan set sarapan"]
                },
                times: {
                    "8am-10am": [60, 30, 60, 0, 0, 0, 20, 0, 50, 70],
                    "10am-12pm": [95, 90, 80, 85, 80, 70, 60, 50, 80, 95],
                    "12pm-3pm": [100, 100, 90, 85, 80, 75, 70, 60, 95, 100],
                    "3pm-5pm": [50, 40, 60, 30, 50, 40, 20, 30, 40, 50],
                    "5pm-7pm": [30, 25, 40, 20, 25, 30, 10, 20, 30, 35]
                }
            },
            "Food Court 4": {
                stalls: ["Mala Xiang Guo","Taiwanese Cuisine","Western Food","Japanese & Korean Cuisine","Ban Mian & Fish Soup","Yong Tau Foo","Nasi Padang / Malay Cuisine","Pao Fan / Seafood Rice","Waffle & Snack Store","Drinks & Breakfast Stall"],
                descriptions: {
                    en: ["Highly popular, often considered one of the best in SP","Famous for Chicken Cutlet and Braised Pork Rice","Generous portions of Chicken Chop and Pasta","Known for Rice Bowls and Bulgogi Beef","A student favorite for a $3.50 budget meal","Large variety of fresh ingredients","Wide selection of spicy side dishes","Specialized broth-based rice dishes","Famous for large waffles and ice cream","Stays open the longest, often until 9:00 PM"],
                    zh: ["ÈùûÂ∏∏ÂèóÊ¨¢Ëøé, ÈÄöÂ∏∏Ë¢´ËÆ§‰∏∫ÊòØSPÊúÄÂ•ΩÁöÑ‰πã‰∏Ä","‰ª•È∏°ÊéíÂíåÂç§ËÇâÈ•≠ÈóªÂêç","È∏°ÊâíÂíåÊÑèÂ§ßÂà©Èù¢ÁöÑÊÖ∑ÊÖ®‰ªΩÈáè","‰ª•È•≠Á¢óÂíåÁÉ§ÁâõËÇâÈóªÂêç","Â≠¶ÁîüÊúÄÁà±Ôºå3.50ÁæéÂÖÉÈ¢ÑÁÆóÈ§ê","Êñ∞È≤úÈÖçÊñôÁöÑÂ§öÁßçÈÄâÊã©","Ëæ£Âë≥ÈÖçËèúÁöÑÂπøÊ≥õÈÄâÊã©","‰∏ì‰∏öÊ±§Â∫ïÈ•≠Ëèú","‰ª•Â§ßÂçéÂ§´È•ºÂíåÂÜ∞Ê∑áÊ∑ãÈóªÂêç","Ëê•‰∏öÊó∂Èó¥ÊúÄÈïøÔºåÈÄöÂ∏∏Âà∞Êôö‰∏ä9:00"],
                    ta: ["SP ‡Æá‡Æ≤‡Øç ‡Æö‡Æø‡Æ±‡Æ®‡Øç‡Æ§‡Æµ‡Æ±‡Øç‡Æ±‡Æø‡Æ≤‡Øç ‡Æí‡Æ©‡Øç‡Æ±‡Ææ‡Æï ‡ÆÖ‡Æü‡Æø‡Æï‡Øç‡Æï‡Æü‡Æø ‡Æï‡Æ∞‡ØÅ‡Æ§‡Æ™‡Øç‡Æ™‡Æü‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡Æø‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Æø‡Æ∞‡Æ™‡Æ≤‡ÆÆ‡Ææ‡Æ©","‡Æï‡Øã‡Æ¥‡Æø ‡Æï‡Æü‡Øç‡Æ≤‡ØÜ‡Æü‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Æø‡Æ∞‡Øá‡Æ∏‡Øç‡Æü‡Øç ‡Æ™‡Øã‡Æ∞‡Øç‡Æï‡Øç ‡Æ∞‡Øà‡Æ∏‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æ™‡Æø‡Æ∞‡Æ™‡Æ≤‡ÆÆ‡Ææ‡Æ©","‡Æï‡Øã‡Æ¥‡Æø ‡Æö‡Ææ‡Æ™‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Ææ‡Æ∏‡Øç‡Æ§‡Ææ‡Æµ‡Æø‡Æ©‡Øç ‡Æ§‡Ææ‡Æ∞‡Ææ‡Æ≥‡ÆÆ‡Ææ‡Æ© ‡Æ™‡Æô‡Øç‡Æï‡ØÅ‡Æï‡Æ≥‡Øç","‡Æ∞‡Øà‡Æ∏‡Øç ‡Æ™‡Æµ‡ØÅ‡Æ≤‡Øç‡Æ∏‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ™‡ØÅ‡Æ≤‡Øç‡Æï‡Øã‡Æï‡Æø ‡Æ™‡ØÄ‡ÆÉ‡Æ™‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡ÆÖ‡Æ±‡Æø‡ÆØ‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü","$3.50 ‡Æ™‡Æü‡Øç‡Æú‡ØÜ‡Æü‡Øç ‡Æâ‡Æ£‡Æµ‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡ÆÆ‡Ææ‡Æ£‡Æµ‡Æ∞‡Øç ‡Æ™‡Æø‡Æü‡Æø‡Æ§‡Øç‡Æ§","‡Æ™‡ØÅ‡Æ§‡Æø‡ÆØ ‡Æ™‡Øä‡Æ∞‡ØÅ‡Æü‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æ™‡ØÜ‡Æ∞‡Æø‡ÆØ ‡Æµ‡Æï‡Øà","‡ÆÆ‡Æö‡Ææ‡Æ≤‡Ææ ‡Æ™‡Æï‡Øç‡Æï ‡Æâ‡Æ£‡Æµ‡ØÅ‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æ™‡Æ∞‡Æ®‡Øç‡Æ§ ‡Æ§‡Øá‡Æ∞‡Øç‡Æµ‡ØÅ","‡Æö‡Æø‡Æ±‡Æ™‡Øç‡Æ™‡ØÅ ‡Æ™‡ØÅ‡Æ∞‡Øã‡Æ§‡Øç ‡ÆÖ‡Æü‡Æø‡Æ™‡Øç‡Æ™‡Æü‡Øà‡ÆØ‡Æø‡Æ≤‡Ææ‡Æ© ‡Æ∞‡Øà‡Æ∏‡Øç ‡Æâ‡Æ£‡Æµ‡ØÅ‡Æï‡Æ≥‡Øç","‡Æ™‡ØÜ‡Æ∞‡Æø‡ÆØ ‡Æµ‡Ææ‡ÆÉ‡Æ™‡Æø‡Æ≥‡Øç‡Æ∏‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æê‡Æ∏‡Øç ‡Æï‡Øç‡Æ∞‡ØÄ‡ÆÆ‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æ™‡Æø‡Æ∞‡Æ™‡Æ≤‡ÆÆ‡Ææ‡Æ©","‡Æ™‡ØÜ‡Æ∞‡ØÅ‡ÆÆ‡Øç‡Æ™‡Ææ‡Æ≤‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡Ææ‡Æ≤‡Øà 9:00 ‡Æµ‡Æ∞‡Øà ‡Æ§‡Æø‡Æ±‡Æ®‡Øç‡Æ§‡Æø‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç"],
                    ms: ["Sangat popular, sering dianggap salah satu yang terbaik di SP","Terkenal dengan Chicken Cutlet dan Braised Pork Rice","Bahagian besar Chicken Chop dan Pasta","Dikenali untuk Rice Bowls dan Bulgogi Beef","Kegemaran pelajar untuk hidangan bajet $3.50","Pelbagai bahan segar yang besar","Pilihan luas hidangan sampingan pedas","Hidangan nasi berasaskan kuah khusus","Terkenal dengan wafel besar dan ais krim","Buka paling lama, sering hingga 9:00 PM"]
                },
                times: {
                    "8am-10am": [50, 40, 30, 20, 50, 40, 30, 20, 50, 60],
                    "10am-12pm": [100, 100, 100, 100, 100, 100, 100, 100, 100, 100],
                    "12pm-3pm": [100, 95, 90, 85, 80, 75, 80, 70, 90, 100],
                    "3pm-5pm": [60, 50, 40, 40, 50, 50, 50, 40, 50, 60],
                    "5pm-7pm": [40, 35, 30, 30, 35, 35, 30, 25, 35, 50]
                }
            },
            "Food Court 5": {
                stalls: ["Starbucks","Subway","KFC","Brunch Cafe","Bang Deli","Japanese Stall","Fruit Stall","Drinks Stall"],
                descriptions: {
                    en: ["The main study hub with a 1-for-1 tradition","Healthy sandwich option","Fried chicken staple","Famous for Japanese Donburi like Pork and Beef bowls","Known for pastries, cakes, and quick lunch boxes","Rotating tenants serving Ramen or Katsu","Fresh juices and sliced fruits","Primary source for local Kopi and Teh"],
                    zh: ["‰∏ªË¶ÅÂ≠¶‰π†‰∏≠ÂøÉ, Êúâ1ÂØπ1‰º†Áªü","ÂÅ•Â∫∑‰∏âÊòéÊ≤ªÈÄâÈ°π","ÁÇ∏È∏°‰∏ªÈ£ü","‰ª•Êó•Âºè‰∏ºÈ•≠ÈóªÂêçÔºåÂ¶ÇÁå™ËÇâÂíåÁâõËÇâÁ¢ó","‰ª•Á≥ïÁÇπ„ÄÅËõãÁ≥ïÂíåÂø´ÈÄüÂçàÈ§êÁõíÈóªÂêç","ËΩÆÊç¢ÁßüÊà∑Êèê‰æõÊãâÈù¢ÊàñÁÇ∏Áå™Êéí","Êñ∞È≤úÊûúÊ±ÅÂíåÂàáÁâáÊ∞¥Êûú","Êú¨Âú∞ÂíñÂï°ÂíåËå∂ÁöÑ‰∏ªË¶ÅÊù•Ê∫ê"],
                    ta: ["1-‡Æï‡Øç‡Æï‡ØÅ-1 ‡ÆÆ‡Æ∞‡Æ™‡ØÅ‡Æü‡Æ©‡Øç ‡ÆÆ‡ØÅ‡Æ§‡Æ©‡Øç‡ÆÆ‡Øà ‡Æ™‡Æü‡Æø‡Æ™‡Øç‡Æ™‡ØÅ ‡ÆÆ‡Øà‡ÆØ‡ÆÆ‡Øç","‡ÆÜ‡Æ∞‡Øã‡Æï‡Øç‡Æï‡Æø‡ÆØ‡ÆÆ‡Ææ‡Æ© ‡Æö‡Ææ‡Æ£‡Øç‡Æü‡Øç‡Æµ‡Æø‡Æö‡Øç ‡Æµ‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡ÆÆ‡Øç","‡Æ™‡Æø‡Æ∞‡Øà‡Æü‡Øç ‡Æï‡Øã‡Æ¥‡Æø ‡Æ∏‡Øç‡Æü‡Øá‡Æ™‡Æø‡Æ≥‡Øç","‡Æ™‡Ææ‡Æ∞‡Øç‡Æï‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ™‡ØÄ‡ÆÉ‡Æ™‡Øç ‡Æ™‡Æµ‡ØÅ‡Æ≤‡Øç‡Æ∏‡Øç ‡Æ™‡Øã‡Æ©‡Øç‡Æ± ‡Æú‡Æ™‡Øç‡Æ™‡Ææ‡Æ©‡Æø‡ÆØ ‡Æü‡Ææ‡Æ©‡Øç‡Æ™‡ØÅ‡Æ∞‡Æø‡Æï‡Øç‡Æï‡ØÅ ‡Æ™‡Æø‡Æ∞‡Æ™‡Æ≤‡ÆÆ‡Ææ‡Æ©","‡Æ™‡Øá‡Æ∏‡Øç‡Æü‡Øç‡Æ∞‡Æø‡Æï‡Æ≥‡Øç, ‡Æï‡Øá‡Æï‡Øç‡Æï‡ØÅ‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æµ‡Æø‡Æ∞‡Øà‡Æµ‡Ææ‡Æ© ‡ÆÆ‡Æ§‡Æø‡ÆØ ‡Æâ‡Æ£‡Æµ‡ØÅ ‡Æ™‡Ææ‡Æï‡Øç‡Æ∏‡Øç‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡ÆÖ‡Æ±‡Æø‡ÆØ‡Æ™‡Øç‡Æ™‡Æü‡Øç‡Æü","‡Æ∞‡Øá‡ÆÆ‡Æ©‡Øç ‡ÆÖ‡Æ≤‡Øç‡Æ≤‡Æ§‡ØÅ ‡Æï‡Æü‡Øç‡Æö‡ØÅ ‡Æµ‡Æ¥‡Æô‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç ‡Æö‡ØÅ‡Æ¥‡Æ≤‡ØÅ‡ÆÆ‡Øç ‡Æï‡ØÅ‡Æ§‡Øç‡Æ§‡Æï‡Øà‡Æ§‡Ææ‡Æ∞‡Æ∞‡Øç‡Æï‡Æ≥‡Øç","‡Æ™‡ØÅ‡Æ§‡Æø‡ÆØ ‡Æú‡ØÇ‡Æ∏‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ§‡ØÅ‡Æ£‡Øç‡Æü‡ØÅ ‡Æ™‡Æ¥‡Æô‡Øç‡Æï‡Æ≥‡Øç","‡Æâ‡Æ≥‡Øç‡Æ≥‡ØÇ‡Æ∞‡Æø‡Æ≤‡Øç ‡Æï‡Øã‡Æ™‡Æø ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ§‡Øá‡ÆØ‡Øç ‡Æ™‡Æø‡Æ∞‡Æ§‡Ææ‡Æ© ‡ÆÆ‡ØÇ‡Æ≤‡ÆÆ‡Øç"],
                    ms: ["Hab utama belajar dengan tradisi 1-untuk-1","Pilihan sandwich sihat","Stap ayam goreng","Terkenal untuk Donburi Jepun seperti mangkuk Babi dan Daging","Dikenali untuk pastri, kek, dan kotak makan tengah hari pantas","Penyewa berputar yang menyajikan Ramen atau Katsu","Jus segar dan buah-buahan iris","Sumber utama untuk Kopi dan Teh tempatan"]
                },
                times: {
                    "8am-10am": [60, 40, 0, 0, 50, 0, 50, 60],
                    "10am-12pm": [95, 95, 95, 90, 85, 80, 90, 100],
                    "12pm-3pm": [100, 100, 100, 100, 90, 80, 100, 100],
                    "3pm-5pm": [70, 60, 60, 50, 60, 50, 50, 70],
                    "5pm-7pm": [50, 50, 50, 40, 40, 35, 30, 60]
                }
            },
            "Food Court 6": {
                stalls: ["Creamy Duck","Western Food","Japanese Cuisine","Chicken Rice","Vegetarian Stall","Mixed Vegetable Rice","Yong Tau Foo / Fish Soup","Drinks & Toast Stall"],
                descriptions: {
                    en: ["Legendary waffles and ice cream, must try!","Famous for large chicken chops and cheap prices","Affordable Teriyaki Chicken and Curry Rice","Reliable daily staple","Healthy and budget-friendly options","Popular for nearby office staff","Variety of fresh ingredients for soups","Early-morning drinks and toast, stays open the longest"],
                    zh: ["‰º†Â•áÂçéÂ§´È•ºÂíåÂÜ∞Ê∑áÊ∑ãÔºåÂøÖÈ°ªËØïËØïÔºÅ","‰ª•Â§ßÈ∏°ÊâíÂíå‰æøÂÆú‰ª∑Ê†ºÈóªÂêç","ÂÆûÊÉ†ÁöÑÁÖßÁÉßÈ∏°ÂíåÂíñÂñ±È•≠","ÂèØÈù†ÁöÑÊó•Â∏∏‰∏ªÈ£ü","ÂÅ•Â∫∑‰∏îÈ¢ÑÁÆóÂèãÂ•ΩÁöÑÈÄâÈ°π","ÈôÑËøëÂäûÂÖ¨ÂÆ§ÂëòÂ∑•ÂèóÊ¨¢Ëøé","Ê±§ÂìÅÊñ∞È≤úÈÖçÊñôÁöÑÂ§öÁßçÈÄâÊã©","Êó©Èó¥È•ÆÊñôÂíåÂêêÂè∏ÔºåËê•‰∏öÊó∂Èó¥ÊúÄÈïø"],
                    ta: ["‡Æ™‡ØÅ‡Æ∞‡Ææ‡Æ£ ‡Æµ‡Ææ‡ÆÉ‡Æ™‡Æø‡Æ≥‡Øç‡Æ∏‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æê‡Æ∏‡Øç ‡Æï‡Øç‡Æ∞‡ØÄ‡ÆÆ‡Øç, ‡Æï‡Æü‡Øç‡Æü‡Ææ‡ÆØ‡ÆÆ‡Øç ‡ÆÆ‡ØÅ‡ÆØ‡Æ±‡Øç‡Æö‡Æø‡Æï‡Øç‡Æï‡Æµ‡ØÅ‡ÆÆ‡Øç!","‡Æ™‡ØÜ‡Æ∞‡Æø‡ÆØ ‡Æï‡Øã‡Æ¥‡Æø ‡Æö‡Ææ‡Æ™‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡ÆÆ‡Æ≤‡Æø‡Æµ‡ØÅ ‡Æµ‡Æø‡Æ≤‡Øà‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æ™‡Æø‡Æ∞‡Æ™‡Æ≤‡ÆÆ‡Ææ‡Æ©","‡ÆÆ‡Æ≤‡Æø‡Æµ‡Ææ‡Æ© ‡Æü‡ØÜ‡Æ∞‡Æø‡ÆØ‡Ææ‡Æï‡Æø ‡Æï‡Øã‡Æ¥‡Æø ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æï‡Æ±‡Æø ‡Æö‡Ææ‡Æ§‡ÆÆ‡Øç","‡Æ®‡ÆÆ‡Øç‡Æ™‡Æï‡ÆÆ‡Ææ‡Æ© ‡Æ§‡Æø‡Æ©‡Æö‡Æ∞‡Æø ‡Æ∏‡Øç‡Æü‡Øá‡Æ™‡Æø‡Æ≥‡Øç","‡ÆÜ‡Æ∞‡Øã‡Æï‡Øç‡Æï‡Æø‡ÆØ‡ÆÆ‡Ææ‡Æ© ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æ™‡Æü‡Øç‡Æú‡ØÜ‡Æü‡Øç-‡Æ®‡Æü‡Øç‡Æ™‡ØÅ ‡Æµ‡Æø‡Æ∞‡ØÅ‡Æ™‡Øç‡Æ™‡Æô‡Øç‡Æï‡Æ≥‡Øç","‡ÆÖ‡Æ∞‡ØÅ‡Æï‡Æø‡Æ≤‡ØÅ‡Æ≥‡Øç‡Æ≥ ‡ÆÖ‡Æ≤‡ØÅ‡Æµ‡Æ≤‡Æï ‡Æä‡Æ¥‡Æø‡ÆØ‡Æ∞‡Øç‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æ™‡Æø‡Æ∞‡Æ™‡Æ≤‡ÆÆ‡Ææ‡Æ©","‡Æö‡ØÇ‡Æ™‡Øç ‡Æï‡Æ≥‡ØÅ‡Æï‡Øç‡Æï‡ØÅ ‡Æ™‡ØÅ‡Æ§‡Æø‡ÆØ ‡Æ™‡Øä‡Æ∞‡ØÅ‡Æü‡Øç‡Æï‡Æ≥‡Æø‡Æ©‡Øç ‡Æµ‡Æï‡Øà","‡Æï‡Ææ‡Æ≤‡Øà ‡Æï‡Ææ‡Æ≤‡Øà ‡Æ™‡Ææ‡Æ©‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æü‡Øã‡Æ∏‡Øç‡Æü‡Øç, ‡ÆÆ‡Æø‡Æï ‡Æ®‡ØÄ‡Æ£‡Øç‡Æü ‡Æ§‡Æø‡Æ±‡Æ®‡Øç‡Æ§‡Æø‡Æ∞‡ØÅ‡Æï‡Øç‡Æï‡ØÅ‡ÆÆ‡Øç"],
                    ms: ["Wafel legenda dan ais krim, mesti cuba!","Terkenal dengan ayam goreng besar dan harga murah","Ayam Teriyaki dan Nasi Kari yang mampu milik","Stap harian yang boleh dipercayai","Pilihan sihat dan bajet mesra","Popular untuk kakitangan pejabat berdekatan","Pelbagai bahan segar untuk sup","Minuman pagi dan roti bakar, buka paling lama"]
                },
                times: {
                    "8am-10am": [40, 30, 30, 20, 20, 20, 20, 40],
                    "10am-12pm": [95, 95, 95, 90, 90, 90, 90, 95],
                    "12pm-3pm": [100, 100, 100, 100, 95, 95, 90, 100],
                    "3pm-5pm": [40, 40, 40, 30, 30, 30, 30, 40],
                    "5pm-7pm": [10, 10, 10, 10, 10, 10, 10, 20]
                }
            }
        };

        // Translation object for stalls and FC names
        const fcTranslations = {
            en: {},
            ms: {
                "Food Court 1": "Dewan Makan 1",
                "Food Court 2": "Dewan Makan 2",
                "Food Court 3": "Dewan Makan 3",
                "Food Court 4": "Dewan Makan 4",
                "Food Court 5": "Dewan Makan 5",
                "Food Court 6": "Dewan Makan 6",
                "Chicken Rice": "Nasi Ayam",
                "Japanese Curry / Rice Bowls": "Kari Jepun / Mangkuk Nasi",
                "Western Cuisine": "Makanan Barat",
                "Ban Mian / Fish Soup": "Ban Mian / Sup Ikan",
                "Mala Hotpot": "Hotpot Mala",
                "Thai Cuisine": "Masakan Thai",
                "Yong Tau Foo": "Yong Tau Foo",
                "Desserts": "Pencuci Mulut",
                "Drinks & Toast Stall": "Gerai Minuman & Roti Bakar",
                "Creamy Duck": "Creamy Duck",
                "Japanese Cuisine": "Masakan Jepun",
                "Chicken Rice": "Nasi Ayam",
                "Vegetarian Stall": "Gerai Vegetarian",
                "Mixed Vegetable Rice": "Nasi Sayur Campur",
                "Yong Tau Foo / Fish Soup": "Yong Tau Foo / Sup Ikan"
            },
            zh: {
                "Food Court 1": "È£üÈòÅ1",
                "Food Court 2": "È£üÈòÅ2",
                "Food Court 3": "È£üÈòÅ3",
                "Food Court 4": "È£üÈòÅ4",
                "Food Court 5": "È£üÈòÅ5",
                "Food Court 6": "È£üÈòÅ6",
                "Chicken Rice": "È∏°È•≠",
                "Japanese Curry / Rice Bowls": "Êó•ÂºèÂíñÂñ±/È•≠",
                "Western Cuisine": "Ë•øÈ§ê",
                "Ban Mian / Fish Soup": "ÊùøÈù¢/È±ºÊ±§",
                "Mala Hotpot": "È∫ªËæ£ÁÅ´ÈîÖ",
                "Thai Cuisine": "Ê≥∞ÂºèÊñôÁêÜ",
                "Yong Tau Foo": "ÈÖøË±ÜËÖê",
                "Desserts": "ÁîúÂìÅ",
                "Drinks & Toast Stall": "È•ÆÊñô‰∏éÂêêÂè∏Êëä",
                "Creamy Duck": "Creamy Duck",
                "Japanese Cuisine": "Êó•ÂºèÊñôÁêÜ",
                "Chicken Rice": "È∏°È•≠",
                "Vegetarian Stall": "Á¥†È£üÊëä",
                "Mixed Vegetable Rice": "‰ªÄËèúÈ•≠",
                "Yong Tau Foo / Fish Soup": "ÈÖøË±ÜËÖê/È±ºÊ±§"
            },
            ta: {
                "Food Court 1": "‡Æâ‡Æ£‡Æµ‡Æï 1",
                "Food Court 2": "‡Æâ‡Æ£‡Æµ‡Æï 2",
                "Food Court 3": "‡Æâ‡Æ£‡Æµ‡Æï 3",
                "Food Court 4": "‡Æâ‡Æ£‡Æµ‡Æï 4",
                "Food Court 5": "‡Æâ‡Æ£‡Æµ‡Æï 5",
                "Food Court 6": "‡Æâ‡Æ£‡Æµ‡Æï 6",
                "Chicken Rice": "‡Æï‡Øã‡Æ¥‡Æø ‡Æö‡Ææ‡Æ§‡ÆÆ‡Øç",
                "Japanese Curry / Rice Bowls": "‡Æú‡Æ™‡Øç‡Æ™‡Ææ‡Æ©‡Æø‡ÆØ ‡Æï‡Æ±‡Æø / ‡Æö‡Ææ‡Æ§‡ÆÆ‡Øç",
                "Western Cuisine": "‡ÆÆ‡Øá‡Æ±‡Øç‡Æï‡Æ§‡Øç‡Æ§‡Æø‡ÆØ ‡Æâ‡Æ£‡Æµ‡ØÅ",
                "Ban Mian / Fish Soup": "‡Æ™‡Ææ‡Æ©‡Øç ‡ÆÆ‡Æø‡ÆØ‡Æ©‡Øç / ‡ÆÆ‡ØÄ‡Æ©‡Øç ‡Æö‡ØÇ‡Æ™‡Øç",
                "Mala Hotpot": "‡ÆÆ‡Ææ‡Æ≤‡Ææ ‡Æπ‡Ææ‡Æü‡Øç‡Æ™‡Ææ‡Æü‡Øç",
                "Thai Cuisine": "‡Æ§‡Øà ‡Æâ‡Æ£‡Æµ‡ØÅ",
                "Yong Tau Foo": "‡ÆØ‡Ææ‡Æô‡Øç ‡Æü‡Øå ‡ÆÉ‡Æ™‡ØÇ",
                "Desserts": "‡Æá‡Æ©‡Æø‡Æ™‡Øç‡Æ™‡ØÅ‡Æï‡Æ≥‡Øç",
                "Drinks & Toast Stall": "‡Æ™‡Ææ‡Æ©‡Æô‡Øç‡Æï‡Æ≥‡Øç ‡ÆÆ‡Æ±‡Øç‡Æ±‡ØÅ‡ÆÆ‡Øç ‡Æü‡Øã‡Æ∏‡Øç‡Æü‡Øç ‡Æ∏‡Øç‡Æü‡Ææ‡Æ≤‡Øç",
                "Creamy Duck": "‡Æï‡Øç‡Æ∞‡ØÄ‡ÆÆ‡Æø ‡Æü‡Æï‡Øç",
                "Japanese Cuisine": "‡Æú‡Æ™‡Øç‡Æ™‡Ææ‡Æ©‡Æø‡ÆØ ‡Æâ‡Æ£‡Æµ‡ØÅ",
                "Chicken Rice": "‡Æï‡Øã‡Æ¥‡Æø ‡Æö‡Ææ‡Æ§‡ÆÆ‡Øç",
                "Vegetarian Stall": "‡Æö‡Øà‡Æµ ‡Æâ‡Æ£‡Æµ‡ØÅ ‡Æ∏‡Øç‡Æü‡Ææ‡Æ≤‡Øç",
                "Mixed Vegetable Rice": "‡Æï‡Ææ‡ÆØ‡Øç‡Æï‡Æ±‡Æø ‡Æï‡Æ≤‡Æ®‡Øç‡Æ§ ‡Æö‡Ææ‡Æ§‡ÆÆ‡Øç",
                "Yong Tau Foo / Fish Soup": "‡ÆØ‡Ææ‡Æô‡Øç ‡Æü‡Øå ‡ÆÉ‡Æ™‡ØÇ / ‡ÆÆ‡ØÄ‡Æ©‡Øç ‡Æö‡ØÇ‡Æ™‡Øç"
            }
        };

        let activeCard = null;
        let currentLang = "en";

        // Function to update stall list names and descriptions
        function updateStallList(fcName, timePeriod) {
            const fcStalls = fcData[fcName].stalls;
            const fcDesc = fcData[fcName].descriptions;
            const fcPercent = fcData[fcName].times[timePeriod];

            stallList.innerHTML = "";
            fcStalls.forEach((stall, i) => {
                const translatedStall = fcTranslations[currentLang][stall] || stall;
                const desc = fcDesc[currentLang][i] || "";
                stallList.innerHTML += `
                    <li>
                        <span>${translatedStall}</span>
                        <span class="percent-text">${fcPercent[i] || 0}%</span>
                        ${desc ? `<small>${desc}</small>` : ""}
                        <div class="bar" style="width: ${fcPercent[i] || 0}%"></div>
                    </li>
                `;
            });
        }

        // Click on foodcourt cards
        foodcourtCards.forEach(card => {
            card.addEventListener("click", () => {
                const fcName = card.dataset.fc;
                const isRight = parseInt(fcName.match(/\d+/)[0]) % 2 === 1;

                if (activeCard === card) {
                    fcInfoPanel.classList.remove("show-left", "show-right");
                    fcInfoPanel.classList.add(isRight ? "off-right" : "off-left");
                    activeCard = null;
                    return;
                }

                fcInfoPanel.classList.remove("show-left", "show-right", "off-left", "off-right");
                fcInfoPanel.classList.add(isRight ? "show-right" : "show-left");

                const translatedFc = fcTranslations[currentLang][fcName] || fcName;
                fcTitle.innerText = translatedFc;

                // Default time period
                const defaultTime = "10am-12pm";
                updateStallList(fcName, defaultTime);

                // Time buttons
                timeButtons.forEach(btn => {
                    btn.classList.remove("active");
                    if (btn.dataset.time === defaultTime) btn.classList.add("active");
                    btn.onclick = () => {
                        timeButtons.forEach(b => b.classList.remove("active"));
                        btn.classList.add("active");
                        updateStallList(fcName, btn.dataset.time);
                    };
                });

                activeCard = card;
            });
        });

        // Language switcher
        const languageDropdown = document.getElementById("languageDropdown");
        if (languageDropdown) {
            languageDropdown.addEventListener("change", function () {
                currentLang = this.value;

                // Update foodcourt card labels
                foodcourtCards.forEach(card => {
                    const fcName = card.dataset.fc;
                    const translatedFc = fcTranslations[currentLang][fcName] || fcName;
                    card.querySelector(".foodcourt-overlay").innerText = translatedFc;
                });

                // Update info panel if active
                if (activeCard) {
                    const fcName = activeCard.dataset.fc;
                    const translatedFc = fcTranslations[currentLang][fcName] || fcName;
                    fcTitle.innerText = translatedFc;
                    // Update stall list
                    const activeTime = document.querySelector(".time-buttons button.active").dataset.time;
                    updateStallList(fcName, activeTime);
                }

                // Update page title and sections
                document.getElementById("pickFoodcourt").innerText = translations[currentLang].pickFoodcourt;
                document.getElementById("salesAvailable").innerText = translations[currentLang].salesAvailable;
                document.getElementById("timePeriod").innerText = translations[currentLang].timePeriod;
                document.getElementById("time1").innerText = translations[currentLang].time1;
                document.getElementById("time2").innerText = translations[currentLang].time2;
                document.getElementById("time3").innerText = translations[currentLang].time3;
                document.getElementById("time4").innerText = translations[currentLang].time4;
                document.getElementById("time5").innerText = translations[currentLang].time5;
            });
        }
    }

    let currentLang = "en"; // default

    const languageDropdown = document.getElementById("languageDropdown");
    if (languageDropdown) {
        languageDropdown.addEventListener("change", function () {
            currentLang = this.value;
            const t = translations[this.value];

            // Index page updates
            if (document.getElementById("menuTitle")) {
                document.getElementById("menuTitle").innerText = t.menuTitle;
                document.querySelector("#chinese span").innerText = t.chinese;
                document.querySelector("#malay span").innerText = t.malay;
                document.querySelector("#korean span").innerText = t.korean;
                document.querySelector("#japanese span").innerText = t.japanese;
                document.querySelector("#desserts span").innerText = t.desserts;
                document.querySelector("#drinks span").innerText = t.drinks;
                document.querySelector("#fruits span").innerText = t.fruits;
                document.getElementById("scheduleBtn").innerText = t.scheduleBtn;
                document.getElementById("trackerBtn").innerText = t.trackerBtn;
                document.getElementById("langLabel").innerText = t.langLabel;
            }

            // Schedule page updates
            if (document.getElementById("legendTitle")) {
                document.getElementById("legendTitle").innerText = t.crowdLevelLegend;
                document.getElementById("lowLabel").innerText = t.low;
                document.getElementById("mediumLabel").innerText = t.medium;
                document.getElementById("highLabel").innerText = t.high;
                document.getElementById("weekendLabel").innerText = t.weekend;
                document.getElementById("infoText").innerText = infoTranslations[currentLang].selectDate;

                // Regenerate calendar to update day headers
                if (typeof generateCalendar === "function") {
                    generateCalendar();
                }
            }
        });
    }

    /* =========================
       SCHEDULE PAGE LOGIC
    ========================== */

    const calendarGrid = document.getElementById("calendarGrid");
    const infoPanel = document.getElementById("infoPanel");
    const monthTitle = document.getElementById("monthTitle");

    if (!calendarGrid) return; // prevents JS crash on index page

    function getLocalDateKey(date) {
        const y = date.getFullYear();
        const m = String(date.getMonth() + 1).padStart(2, "0");
        const d = String(date.getDate()).padStart(2, "0");
        return `${y}-${m}-${d}`;
    }

    let currentMonth = 0; // January
    let currentYear = 2026;

    const events = {
        // ===== JANUARY =====
        "2026-01-05": {
            level: "high",
            title: "First Day of Semester",
            text: "All students return to campus.\nHigh crowd expected across all food courts."
        },
        
        "2026-01-08": {
            level: "high",
            title: "SP Open House & I&I Showcase",
            text: "Major campus event with public visitors, tours and exhibitions.\nVery high crowd."
        },
        
        "2026-01-09": {
            level: "high",
            title: "SP Open House & I&I Showcase",
            text: "Second day of Open House.\nHeavy footfall across campus."
        },
        
        "2026-01-10": {
            level: "high",
            title: "SP Open House & I&I Showcase",
            text: "Final day of Open House.\nPublic visitors + student ambassadors."
        },
        
        "2026-01-14": {
            level: "high",
            title: "GCE O-Level Results Release",
            text: "Prospective students and parents visit campus for JAE counselling.\nCrowded Convention Centre."
        },
        
        "2026-01-26": {
            level: "high",
            title: "Exam Timetable Release",
            text: "Start of intensive revision period.\nLibraries and study areas very crowded."
        },
        // ===== FEBRUARY =====
        "2026-02-07": {
            level: "high",
            title: "ABEC Grow & Green Initiative",
            text: "Community and sustainability event by Architecture & Built Environment Club.\nStudent volunteers active around ABE blocks and Jurong East area."
        },
        "2026-02-09": {
            level: "high",
            title: "Release of Final Exam Seats",
            text: "Students receive official exam seat numbers.\nHigh stress levels and heavy library usage expected."
        },
        "2026-02-13": {
            level: "high",
            title: "Decision Deadline",
            text: "Final deadline for course/module deferments or withdrawals.\nStudent Service Centre and school offices are crowded."
        },
        "2026-02-16": {
            level: "low",
            title: "Chinese New Year Eve",
            text: "Most students leave campus early for reunion dinners.\nCampus likely to be quiet by noon."
        },
        "2026-02-17": {
            level: "low",
            title: "Chinese New Year",
            text: "Public Holiday.\nEntire campus, including food courts and libraries, is closed."
        },
        "2026-02-18": {
            level: "low",
            title: "Chinese New Year",
            text: "Public Holiday.\nEntire campus, including food courts and libraries, is closed."
        },
        "2026-02-26": {
            level: "high",
            title: "Semester 2 Examinations Begin",
            text: "Exams officially begin.\nLarge waves of students gather near exam halls before paper start times."
        },
        // ===== MARCH =====
        "2026-03-01": {
            level: "high",
            title: "Final Exams - Mugging Period",
            text: "Peak revision period.\nLibraries and study areas reach maximum capacity from early morning."
        },
        "2026-03-02": {
            level: "high",
            title: "Final Exams - Mugging Period",
            text: "Heavy student presence in libraries and study zones.\nFood courts quieter outside exam windows."
        },
        "2026-03-03": {
            level: "high",
            title: "Final Exams - Mugging Period",
            text: "Students concentrate around study areas and exam venues."
        },
        "2026-03-04": {
            level: "high",
            title: "Final Exams - Mugging Period",
            text: "Last stretch of intensive revision before final papers."
        },
        "2026-03-05": {
            level: "high",
            title: "Final Exams End",
            text: "Final examination day.\nLarge student waves near exam halls before paper timings."
        },
        "2026-03-10": {
            level: "high",
            title: "BusinessPlan 2026",
            text: "Signature competition hosted by SP School of Business.\nHigh influx of secondary school students and faculty around Block W and Convention Centre."
        },
        "2026-03-16": {
            level: "low",
            title: "Internship Programme Begins",
            text: "Many Year 2 and Year 3 students begin internships.\nCampus becomes noticeably quieter."
        },
        "2026-03-21": {
            level: "low",
            title: "Hari Raya Puasa",
            text: "Public Holiday.\nCampus closed with zero student activity."
        },
        "2026-03-23": {
            level: "medium",
            title: "Result Release Day",
            text: "Results released online.\nSmall wave of students return for celebrations, appeals and admin matters."
        },
        // ===== APRIL =====
        // Good Friday ‚Äì Campus Closed
        "2026-04-03": {
            level: "low",
            title: "Good Friday (Public Holiday)",
            text: "Public holiday.\nCampus is closed with zero student activity."
        },
        
        // Release of Class Timetable
        "2026-04-06": {
            level: "low",
            title: "Release of Class Timetable",
            text: "Students check timetables online.\nMinimal physical crowd on campus."
        },
        
        // Freshmen Orientation Programme (FOP)
        "2026-04-13": {
            level: "high",
            title: "Freshmen Orientation Programme (FOP)",
            text: "Orientation activities for Year 1 students.\nHigh crowd levels around SP Plaza and food courts."
        },
        
        "2026-04-14": {
            level: "high",
            title: "Freshmen Orientation Programme (FOP)",
            text: "Campus filled with freshies and student facilitators.\nMass games, cheers, and campus tours ongoing."
        },
        "2026-04-15": {
            level: "high",
            title: "Freshmen Orientation Programme (FOP)",
            text: "Orientation continues.\nLunch hours are especially crowded at food courts."
        },
        "2026-04-16": {
            level: "high",
            title: "Freshmen Orientation Programme (FOP)",
            text: "High-energy orientation activities across campus.\nExpect noise and heavy foot traffic."
        },
        "2026-04-17": {
            level: "high",
            title: "Freshmen Orientation Programme (FOP)",
            text: "Final day of orientation.\nCelebratory atmosphere and peak crowd levels."
        },
        
        // First Day of Term 1
        "2026-04-20": {
            level: "high",
            title: "First Day of Term 1",
            text: "All students return to campus.\nExtremely crowded MRT, food courts, and walkways."
        },

        // ===== MAY =====
        // Labour Day ‚Äì Campus Closed
        "2026-05-01": {
            level: "low",
            title: "Labour Day (Public Holiday)",
            text: "Public holiday.\nCampus is closed with zero student activity."
        },
        
        // Graduation Ceremonies (Early May)
        "2026-05-04": {
            level: "high",
            title: "Graduation Ceremonies",
            text: "Thousands of graduates return.\nFC1 and SP Plaza extremely crowded, lots of photos at Red Bridge."
        },
        
        "2026-05-05": {
            level: "high",
            title: "Graduation Ceremonies",
            text: "Thousands of graduates return.\nFC1 and SP Plaza extremely crowded, lots of photos at Red Bridge."
        },
        "2026-05-06": {
            level: "high",
            title: "Graduation Ceremonies",
            text: "Thousands of graduates return.\nFC1 and SP Plaza extremely crowded, lots of photos at Red Bridge."
        },
        
        "2026-05-07": {
            level: "high",
            title: "Graduation Ceremonies",
            text: "Thousands of graduates return.\nFC1 and SP Plaza extremely crowded, lots of photos at Red Bridge."
        },
        
        "2026-05-08": {
            level: "high",
            title: "Graduation Ceremonies",
            text: "Thousands of graduates return.\nFC1 and SP Plaza extremely crowded, lots of photos at Red Bridge."
        },
        
        // Project & Assignment Crunch (Mid-May)
        "2026-05-11": {
            level: "high",
            title: "Project & Assignment Crunch",
            text: "Students in labs and libraries working intensively.\nFood courts remain busy."
        },
        
        "2026-05-12": {
            level: "high",
            title: "Project & Assignment Crunch",
            text: "Students in labs and libraries working intensively.\nFood courts remain busy."
        },
        
        "2026-05-13": {
            level: "high",
            title: "Project & Assignment Crunch",
            text: "Students in labs and libraries working intensively.\nFood courts remain busy."
        },
        
        "2026-05-14": {
            level: "high",
            title: "Project & Assignment Crunch",
            text: "Students in labs and libraries working intensively.\nFood courts remain busy."
        },
        "2026-05-15": {
            level: "high",
            title: "Project & Assignment Crunch",
            text: "Students in labs and libraries working intensively.\nFood courts remain busy."
        },
        
        "2026-05-16": {
            level: "high",
            title: "Project & Assignment Crunch",
            text: "Students in labs and libraries working intensively.\nFood courts remain busy."
        },
        
        "2026-05-17": {
            level: "high",
            title: "Project & Assignment Crunch",
            text: "Students in labs and libraries working intensively.\nFood courts remain busy."
        },
        
        "2026-05-18": {
            level: "high",
            title: "Project & Assignment Crunch",
            text: "Students in labs and libraries working intensively.\nFood courts remain busy."
        },
        
        "2026-05-19": {
            level: "high",
            title: "Project & Assignment Crunch",
            text: "Students in labs and libraries working intensively.\nFood courts remain busy."
        },
        
        "2026-05-20": {
            level: "high",
            title: "Project & Assignment Crunch",
            text: "Students in labs and libraries working intensively.\nFood courts remain busy."
        },
        
        "2026-05-21": {
            level: "high",
            title: "Project & Assignment Crunch",
            text: "Students in labs and libraries working intensively.\nFood courts remain busy."
        },
        
        "2026-05-22": {
            level: "high",
            title: "Project & Assignment Crunch",
            text: "Students in labs and libraries working intensively.\nFood courts remain busy."
        },
        
        // SP Excellence Awards ‚Äì May 26
        "2026-05-26": {
            level: "medium",
            title: "SP Excellence Awards",
            text: "Recognition ceremony for top students and CCA leaders.\nSome facilities booked, moderate crowd expected."
        },
        
        // Hari Raya Haji ‚Äì May 27
        "2026-05-27": {
            level: "low",
            title: "Hari Raya Haji (Public Holiday)",
            text: "Campus is closed for public holiday.\nZero student activity."
        },

        // Pre-Test Revision Days ‚Äì May 28‚Äì29
        "2026-05-28":{
            level: "high",
            title: "Pre-Test Revision Days",
            text: "Intense library usage.\nStudents prepare for upcoming tests."
        
        },
        
        "2026-05-29": {
            level: "high",
            title: "Pre-Test Revision Days",
            text: "Intense library usage.\nStudents prepare for upcoming tests."
        },
        
        // Vesak Day ‚Äì May 31 (PH on June 1)
        "2026-05-31": {
            level: "low",
            title: "Vesak Day (Public Holiday)",
            text: "Campus closed.\nZero student activity."
        },

        // ===== JUNE =====
        // Vesak Day (In Lieu) ‚Äì June 1
        "2026-06-01": {
            level: "low",
            title: "Vesak Day (Public Holiday)",
            text: "Campus is closed for public holiday.\nZero student activity."
        },

        // Mid-Semester Tests ‚Äì June 2‚Äì5
        "2026-06-02": {
            level: "high",
            title: "Mid-Semester Tests",
            text: "Large groups arrive for their test slots.\nFood Courts (FC1, FC5) and libraries very crowded 11AM‚Äì2PM."
        },
        
        "2026-06-03": {
            level: "high",
            title: "Mid-Semester Tests",
            text: "Large groups arrive for their test slots.\nFood Courts (FC1, FC5) and libraries very crowded 11AM‚Äì2PM."
        },
        
        "2026-06-04": {
            level: "high",
            title: "Mid-Semester Tests",
            text: "Large groups arrive for their test slots.\nFood Courts (FC1, FC5) and libraries very crowded 11AM‚Äì2PM."
        },
        
        "2026-06-05": {
            level: "high",
            title: "Mid-Semester Tests",
            text: "Large groups arrive for their test slots.\nFood Courts (FC1, FC5) and libraries very crowded 11AM‚Äì2PM."
        },

        // "Go Eco" Week ‚Äì June 15‚Äì19
        "2026-06-15": {
            level: "low",
            title: "Go Eco Week",
            text: "Campus-wide sustainability initiatives or staff workshops.\nGeneral student attendance is near zero."
        },

        "2026-06-16": { level: "low", title: "Go Eco Week", text: "Campus-wide sustainability initiatives.\nGeneral student attendance is near zero." },
        "2026-06-17": { level: "low", title: "Go Eco Week", text: "Campus-wide sustainability initiatives.\nGeneral student attendance is near zero." },
        "2026-06-18": { level: "low", title: "Go Eco Week", text: "Campus-wide sustainability initiatives.\nGeneral student attendance is near zero." },
        "2026-06-19": { level: "low", title: "Go Eco Week", text: "Campus-wide sustainability initiatives.\nGeneral student attendance is near zero." },
        
        // Term 2 Classes Begin ‚Äì June 29
        "2026-06-29": {
            level: "medium",
            title: "Term 2 Classes Begin",
            text: "All students return to campus.\nFood courts and walkways busy, semester starts."
        }
    };

    function isBetween(date, start, end) {
        return date >= new Date(start) && date <= new Date(end);
    }
    
    function getCrowdLevel(date) {
        const key = getLocalDateKey(date);
        
        // Specific event override
        if (events[key]) return events[key].level;

        // Vacation periods ‚Üí GREEN
        if (
            isBetween(date, "2025-12-13", "2026-01-04") ||
            isBetween(date, "2026-03-07", "2026-04-19")
        ) return "low";

        // Examination period ‚Üí GREEN
        if (isBetween(date, "2026-02-23", "2026-03-06")) return "low";

        // Home-based learning ‚Üí GREEN
        if (key === "2026-01-08" || key === "2026-01-09") return "high";

        // Chinese New Year (Green / Low)
        if (isBetweenLocal(date, "2026-02-16", "2026-02-18")) return "low";

        // Study Week & Mugging Period (Red)
        if (isBetweenLocal(date, "2026-02-16", "2026-02-22")) return "high";

        // A-Level Results Release window (Red)
        if (isBetweenLocal(date, "2026-02-25", "2026-02-27")) return "high";

        // Mugging & Final Exams (Mar 1‚Äì5)
        if (isBetweenLocal(date, "2026-03-01", "2026-03-05")) return "high";

        // End of Vacation (Apr 1‚Äì12)
        if (isBetweenLocal(date, "2026-04-01", "2026-04-12")) return "low";

        // Freshmen Orientation Programme (Apr 13‚Äì17)
        if (isBetweenLocal(date, "2026-04-13", "2026-04-17")) return "high";

        // Labour Day ‚Äì May 1
        if (key === "2026-05-01") return "low";

        // Graduation Ceremonies ‚Äì May 4‚Äì8
        if (isBetweenLocal(date, "2026-05-04", "2026-05-08")) return "high";

        // Project & Assignment Crunch ‚Äì May 11‚Äì22
        if (isBetweenLocal(date, "2026-05-11", "2026-05-22")) return "high";

        // SP Excellence Awards ‚Äì May 26
        if (key === "2026-05-26") return "medium";

        // Hari Raya Haji ‚Äì May 27
        if (key === "2026-05-27") return "low";

        // Pre-Test Revision Days ‚Äì May 28‚Äì29
        if (isBetweenLocal(date, "2026-05-28", "2026-05-29")) return "high";

        // Vesak Day ‚Äì May 31
        if (key === "2026-05-31") return "low";

        // Vesak Day (In Lieu) ‚Äì June 1
        if (key === "2026-06-01") return "low";
        
        // Mid-Semester Tests (June 2‚Äì5)
        if (isBetweenLocal(date, "2026-06-02", "2026-06-05")) return "high";

        // Mid-Semester Vacation (Phase 1) June 6‚Äì21 ‚Üí GREEN
        if (isBetweenLocal(date, "2026-06-06", "2026-06-21")) return "low";

        // "Go Eco" Week ‚Äì June 15‚Äì19 ‚Üí GREEN
        if (isBetweenLocal(date, "2026-06-15", "2026-06-19")) return "low";

        // Mid-Semester Vacation (Phase 2) June 22‚Äì28 ‚Üí GREEN
        if (isBetweenLocal(date, "2026-06-22", "2026-06-28")) return "low";

        // Term 2 Classes Begin ‚Äì June 29
        if (key === "2026-06-29") return "medium";

        // Term 1 general period (Apr 20 onwards) ‚Üí RED
        // Put at the END so it doesn't override May/June vacations
        if (date >= new Date("2026-04-20") && date <= new Date("2026-05-31")) return "high";

        // Weekend ‚Üí WHITE
        const day = date.getDay();
        if (day === 0 || day === 6) return "weekend";

        // Normal school day ‚Üí YELLOW
        return "medium";
    }

    function isBetweenLocal(date, start, end) {
        const key = getLocalDateKey(date);
        return key >= start && key <= end;
    }

    function generateCalendar() {
        calendarGrid.innerHTML = "";

        const days = translations[currentLang].days;
        days.forEach(d => {
            const div = document.createElement("div");
            div.className = "day-header";
            div.innerText = d;
            calendarGrid.appendChild(div);
        });

        const firstDay = new Date(currentYear, currentMonth, 1).getDay();
        const totalDays = new Date(currentYear, currentMonth + 1, 0).getDate();

        for (let i = 0; i < firstDay; i++) {
            calendarGrid.appendChild(document.createElement("div"));
        }

        for (let day = 1; day <= totalDays; day++) {
            const date = new Date(currentYear, currentMonth, day);
            const dateKey = getLocalDateKey(date);

            const div = document.createElement("div");
            div.className = "day";

            const level = getCrowdLevel(date);
            div.classList.add(level);

            div.innerText = day;

            div.onclick = () => {
    const key = getLocalDateKey(date);

    // Default
    let title = infoTranslations[currentLang].academicDay;
    let text = infoTranslations[currentLang].selectDate;

    // Vacation explanation (1‚Äì4 Jan)
    if (isBetweenLocal(date, "2026-01-01", "2026-01-04")) {
        title = infoTranslations[currentLang].vacation;
        text = "Semester break from 1-4 January. Campus activity is minimal, hence low crowd levels are expected.";
    }

    // Study Week (except CNY)
    if (isBetweenLocal(date, "2026-02-16", "2026-02-22")) {
        title = infoTranslations[currentLang].academicDay;
        text = "No formal classes.\nFood courts are quieter, but libraries are at maximum capacity throughout the day.";
    }

    // A-Level Results Release window
    if (isBetweenLocal(date, "2026-02-25", "2026-02-27")) {
        title = infoTranslations[currentLang].academicDay;
        text = "Increase in external visitors at the Student Service Centre.\nModerate crowd surge expected.";
    }

    // Final Exams & Mugging Period
    if (isBetweenLocal(date, "2026-03-01", "2026-03-05")) {
        title = infoTranslations[currentLang].midTests;
        text = "Extreme demand for library seats.\nStudents gather near exam halls before paper timings.";
    }

    // Vacation Ghost Town
    if (isBetweenLocal(date, "2026-03-07", "2026-04-19")) {
        title = infoTranslations[currentLang].vacation;
        text = "Most students are away.\nMany food stalls operate shorter hours or close temporarily.";
    }

    // End of Vacation (Apr 1‚Äì12)
    if (isBetweenLocal(date, "2026-04-01", "2026-04-12")) {
        title = infoTranslations[currentLang].vacation;
        text = "Semester break continues.\nCampus is quiet with minimal student presence.";
    }

    // Freshmen Orientation Programme
    if (isBetweenLocal(date, "2026-04-13", "2026-04-17")) {
        title = infoTranslations[currentLang].academicDay;
        text = "Orientation week for Year 1 students.\nExpect loud cheers, mass games, campus tours, and busy lunch hours.";
    }

    // Term 1 Classes Begin
    if (date >= new Date("2026-04-20")) {
        title = infoTranslations[currentLang].term2;
        text = "All students return to campus.\nFood courts experience long queues, and main walkways are heavily congested.";
    }

    // Labour Day ‚Äì May 1
    if (key === "2026-05-01") {
        title = infoTranslations[currentLang].vacation;
        text = "Campus is closed for public holiday.\nZero student activity.";
    }

    // Graduation Ceremonies
    if (isBetweenLocal(date, "2026-05-04", "2026-05-08")) {
        title = infoTranslations[currentLang].academicDay;
        text = "Thousands of graduates return.\nFC1 and SP Plaza extremely crowded.\nLots of photos at Red Bridge.";
    }

    // Project & Assignment Crunch
    if (isBetweenLocal(date, "2026-05-11", "2026-05-22")) {
        title = infoTranslations[currentLang].academicDay;
        text = "Students in labs and libraries working intensively.\nFood courts remain busy.";
    }

    // SP Excellence Awards
    if (key === "2026-05-26") {
        title = infoTranslations[currentLang].academicDay;
        text = "Recognition ceremony for top students and CCA leaders.\nModerate crowd expected in certain areas.";
    }

    // Hari Raya Haji
    if (key === "2026-05-27") {
        title = infoTranslations[currentLang].vacation;
        text = "Campus is closed for public holiday.\nZero student activity.";
    }

    // Pre-Test Revision Days
    if (isBetweenLocal(date, "2026-05-28", "2026-05-29")) {
        title = infoTranslations[currentLang].midTests;
        text = "Intense library usage.\nStudents prepare for upcoming tests.";
    }

    // Vesak Day ‚Äì May 31 & June 1
    if (key === "2026-05-31" || key === "2026-06-01") {
        title = infoTranslations[currentLang].vacation;
        text = "Campus is closed for public holiday.\nZero student activity.";
    }

    // Mid-Semester Tests
    if (isBetweenLocal(date, "2026-06-02", "2026-06-05")) {
        title = infoTranslations[currentLang].midTests;
        text = "Large groups arrive for test slots.\nFood Courts (FC1, FC5) and libraries very crowded 11AM‚Äì2PM.";
    }

    // Mid-Semester Vacation
    if (isBetweenLocal(date, "2026-06-06", "2026-06-28")) {
        title = infoTranslations[currentLang].midVacation;
        text = "Most students are away.\nCampus is quiet with very low activity.";
    }

    // Term 2 Classes Begin
    if (key === "2026-06-29") {
        title = infoTranslations[currentLang].term2;
        text = "All students return to campus.\nFood courts and walkways busy, semester starts.";
    }

    // Override with custom events if exists
    if (events[key]) {
        title = events[key].title;
        text = events[key].text;
    }

    document.getElementById("infoDate").innerText = date.toDateString();
    document.getElementById("infoTitle").innerHTML = `<strong>${title}</strong>`;
    document.getElementById("infoText").innerText = text;
};

            calendarGrid.appendChild(div);
        }

        monthTitle.innerText = new Date(currentYear, currentMonth)
            .toLocaleString("default", { month: "long", year: "numeric" });
    }

    window.changeMonth = function (dir) {
        currentMonth += dir;

        if (currentMonth < 0) {
            currentMonth = 11;
            currentYear--;
        } else if (currentMonth > 11) {
            currentMonth = 0;
            currentYear++;
        }

        generateCalendar();
    };
    generateCalendar();
});

